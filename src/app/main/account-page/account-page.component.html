<div class="content">
    <div class="wrapper">
        <div class="general-chart">
            <div class="title-wrapper">
                <div class="title">
                    Total Balance
                </div>
                <div class="description">
                    $ 1.618
                </div>
                <div class="description red">
                    -8.2%
                </div>
            </div>
            <div class="chart">
                <canvas baseChart
                        [options]="doughnutChartOptions"
                        [data]="doughnutChartData"
                        [labels]="doughnutChartLabels"
                        [datasets]="datasets"
                        [chartType]="doughnutChartType"></canvas>
            </div>
        </div>
        <div class="table-chart">
            <div style="width: 100%">
                <canvas baseChart
                        [options]="barChartOptions"
                        [colors]="barChartColors"
                        [data]="ChartData"
                        [labels]="ChartLabels"
                        [chartType]="ChartType"></canvas>
            </div>
        </div>
        <div class="controls-table">
            <div class="search">
                <mat-form-field>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true"
                         style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;">
                        <path d="M9.572 0C4.28 0 0 4.182 0 9.352s4.28 9.353 9.572 9.353a9.67 9.67 0 0 0 5.12-1.461L21.607 24 24 21.662l-6.827-6.653c1.227-1.573 1.97-3.523 1.97-5.657 0-5.17-4.28-9.352-9.571-9.352zm0 2.2c4.053 0 7.32 3.192 7.32 7.152 0 3.961-3.267 7.152-7.32 7.152-4.054 0-7.32-3.191-7.32-7.152 0-3.96 3.266-7.151 7.32-7.151z"></path>
                    </svg>
                    <input placeholder="Search" type="text" matInput [(ngModel)]="searchValue" (ngModelChange)="search()">
                </mat-form-field>
            </div>
            <div class="hide-low-balance">
                <mat-checkbox (change)="isHideLowBalanceCheckbox($event)">
                    <span style="word-break: break-all;" class="">Hide low balance assets</span>
                </mat-checkbox>
            </div>
        </div>
        <div class="table-wrapper">
            <div class="table">
                <div class="row title">
                    <div class="cell">

                    </div>
                    <div class="cell">
                        Balance
                    </div>
                    <div class="cell">
                        %
                    </div>
                    <div class="cell">
                        Value(XDR)
                    </div>
                    <div class="cell">
                        Change 30D
                    </div>
                    <div class="cell">

                    </div>
                </div>

                <div class="row" *ngFor="let item of arraySearchValue" [ngClass]="{'hide': this.hideLowBalanceFlag && item.balance === '0'}" (click)="drawingChart('ALL', 30,'days')">
                    <div class="cell">
                        <img class="icon" [ngClass]="item.code" [src]="item.icon" alt="">
                        <div class="name-currency">
                            {{item.code}}
                        </div>
                    </div>
                    <div class="cell">
                        {{item.balance === '0' ? '-' : item.balance}}
                    </div>
                    <div class="cell">
                        {{item.balance == '0' ? '-' : item.percent}}
                    </div>
                    <div class="cell">
                        {{item.balance == '0' ? '-' : item.value}}
                    </div>
                    <div class="cell">
                        {{item.balance === '0' ? '-' : item.change + '%'}}
                    </div>
                    <div class="cell">
                        <div class="buttons-group">
                            <div class="button-convert" (click)="openModal($event, item.balance, 'deposit');">
                                <div class="text">
                                    Deposit
                                </div>
                            </div>
                            <div class="button-convert" [ngClass]="{'disabled' : item.balance === '0'}" (click)="openModal($event, item.balance, 'withdraw');">
                                <div class="text">
                                    Withdraw
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row title">
                    <div class="cell">
                        Total
                    </div>
                    <div class="cell">

                    </div>
                    <div class="cell">

                    </div>
                    <div class="cell">
                        {{sumValue}}
                    </div>
                    <div class="cell">
                        {{sumChange}}%
                    </div>
                    <div class="cell">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<modal id="withdraw">
    <div class="modal">
        <div class="modal-body">
            <div class="head-popup">
                Withdraw
                <div class="close" (click)="modalService.close('withdraw');">
                    <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true" style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;"><path fill-rule="evenodd" d="M.458.404c.582-.565 1.54-.524 2.123.04l9.406 9.485L21.435.444c.583-.564 1.54-.605 2.123-.04.582.565.582 1.453.041 2.058l-9.531 9.526 9.531 9.565c.541.565.541 1.494-.041 2.059-.582.524-1.54.524-2.123-.04l-9.448-9.486-9.406 9.485c-.583.565-1.54.565-2.123.04-.582-.564-.624-1.493-.041-2.058l9.531-9.565L.417 2.462C-.166 1.857-.124.97.458.404z"></path></svg>
                </div>
            </div>
            <div class="content-popup">
                <form [formGroup]="withdrawForm" class="operations-modal" (ngSubmit)="sendWithdrawForm()">
                    <div class="select-wrapper">
                        <div class="title">
                            Select Network:
                        </div>
                        <div class="selects">
                            <div class="item"  *ngFor="let item of testDataModal; let i = index" [ngClass]="{'active': i === activeElem}" (click)="changeNetwork(i, item.min, item.balance)">
                                <div class="text">
                                    {{item.name}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <mat-form-field class="full-width">
                        <input matInput placeholder="Recipient's {{testDataModal[activeElem].name}} Address" formControlName="recipient"  value="">
                    </mat-form-field>
                    <div class="amount">
                        <div class="balance">
                            <div class="text">
                                Available Balance
                            </div>
                            <div class="text currency" (click)="addFullBalance(testDataModal[activeElem].balance)">
                                {{testDataModal[activeElem].balance}} {{testDataModal[activeElem].name}}
                            </div>
                        </div>
                        <div class="min">
                            Minimum Withdrawal: {{testDataModal[activeElem].min}} {{testDataModal[activeElem].name}}
                        </div>
                        <mat-form-field class="full-width">
                            <input matInput placeholder="Amount" maxlength="18" formControlName="amount" autocomplete="off" value="">
                        </mat-form-field>
                        <div *ngIf="_amount.invalid && (_amount.touched || _amount.dirty)">
                            <span class="error" *ngIf="_amount.errors?.required">
                                Field cannot be empty
                            </span>
                            <span class="error" *ngIf="_amount.errors?.min && !_amount.errors?.pattern">
                                Value must be greater {{_amount.errors?.min.min}}
                            </span>
                            <span class="error" *ngIf="_amount.errors?.max && !_amount.errors?.pattern">
                                Value must not exceed {{_amount.errors?.max.max}}
                            </span>
                            <span class="error" *ngIf="_amount.errors?.pattern">
                                Value error
                            </span>
                        </div>
                    </div>
                    <div class="info">
                        <div class="title">
                            Transaction Fee:
                        </div>
                        <div class="text">
                            {{testDataModal[activeElem].fee}} {{testDataModal[activeElem].name}}
                        </div>
                    </div>
                    <div class="info">
                        <div class="title">
                            You Will Get:
                        </div>
                        <div class="text">
                            0.0000000 {{testDataModal[activeElem].name}}
                        </div>
                    </div>
                    <button
                            [disabled]="!withdrawForm.valid"
                            mat-raised-button
                            class="button-next">
                        Submit
                    </button>
                </form>
            </div>

        </div>
    </div>
    <div class="modal-background"></div>
</modal>

<modal id="deposit">
    <div class="modal">
        <div class="modal-body">
            <div class="head-popup">
                Deposit
                <div class="close" (click)="modalService.close('deposit');">
                    <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true" style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;"><path fill-rule="evenodd" d="M.458.404c.582-.565 1.54-.524 2.123.04l9.406 9.485L21.435.444c.583-.564 1.54-.605 2.123-.04.582.565.582 1.453.041 2.058l-9.531 9.526 9.531 9.565c.541.565.541 1.494-.041 2.059-.582.524-1.54.524-2.123-.04l-9.448-9.486-9.406 9.485c-.583.565-1.54.565-2.123.04-.582-.564-.624-1.493-.041-2.058l9.531-9.565L.417 2.462C-.166 1.857-.124.97.458.404z"></path></svg>
                </div>
            </div>
            <div class="content-popup">
                <div class="operations-modal">
                    <div class="select-wrapper">
                        <div class="title">
                            Select Network:
                        </div>
                        <div class="selects">
                            <div class="item"  *ngFor="let item of testDataModal; let i = index" [ngClass]="{'active': i === activeElem}" (click)="changeNetwork(i, item.min, item.balance)">
                                <div class="text">
                                    {{item.name}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="select-wrapper">
                        <div class="title">
                            BCH Address
                        </div>
                        <div class="address">
                            {{address}}
                        </div>
                        <div class="selects">
                            <div class="item" [text-copy]="address">
                                <svg class="icon copy" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 5V4C15 2.89543 14.1046 2 13 2H4C2.89543 2 2 2.89543 2 4V13C2 14.1046 2.89543 15 4 15H5M11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="text">
                                    Copy Address
                                </div>
                            </div>

                            <div class="item">
                                <svg class="icon" height="256" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M384 64l-249.6 0c-51.2 0-89.6 41.6-89.6 89.6l0 227.2c0 51.2 41.6 89.6 89.6 89.6l249.6 0c51.2 0 89.6-41.6 89.6-89.6l0-227.2C473.6 105.6 435.2 64 384 64zM428.8 380.8c0 25.6-19.2 44.8-44.8 44.8l-249.6 0c-25.6 0-44.8-19.2-44.8-44.8l0-227.2c0-25.6 19.2-44.8 44.8-44.8l249.6 0c25.6 0 44.8 19.2 44.8 44.8L428.8 380.8zM192 192l134.4 0 0 134.4-134.4 0 0-134.4ZM377.6 544l-243.2 0c-48 0-86.4 38.4-86.4 89.6l0 220.8c0 48 38.4 89.6 86.4 89.6l243.2 0c48 0 86.4-38.4 86.4-89.6l0-220.8C467.2 582.4 425.6 544 377.6 544zM422.4 851.2c0 25.6-19.2 44.8-44.8 44.8l-243.2 0c-25.6 0-44.8-19.2-44.8-44.8l0-220.8c0-25.6 19.2-44.8 44.8-44.8l243.2 0c25.6 0 44.8 19.2 44.8 44.8L422.4 851.2zM192 668.8l131.2 0 0 131.2-131.2 0 0-131.2ZM633.6 470.4l249.6 0c51.2 0 89.6-41.6 89.6-89.6l0-227.2c0-51.2-41.6-89.6-89.6-89.6l-249.6 0c-51.2 0-89.6 41.6-89.6 89.6l0 227.2C544 432 585.6 470.4 633.6 470.4zM588.8 153.6c0-25.6 19.2-44.8 44.8-44.8l249.6 0c25.6 0 44.8 19.2 44.8 44.8l0 227.2c0 25.6-19.2 44.8-44.8 44.8l-249.6 0c-25.6 0-44.8-19.2-44.8-44.8L588.8 153.6zM700.8 192l134.4 0 0 134.4-134.4 0 0-134.4ZM572.8 716.8l137.6 0c12.8 0 22.4-9.6 22.4-22.4l0-137.6c0-12.8-9.6-22.4-22.4-22.4l-137.6 0c-12.8 0-22.4 9.6-22.4 22.4l0 137.6C550.4 707.2 560 716.8 572.8 716.8zM886.4 563.2l0 38.4c0 12.8 12.8 25.6 25.6 25.6l38.4 0c12.8 0 25.6-12.8 25.6-25.6l0-38.4c0-12.8-12.8-25.6-25.6-25.6l-38.4 0C899.2 537.6 886.4 547.2 886.4 563.2zM582.4 944l48 0c12.8 0 22.4-9.6 22.4-22.4l0-48c0-12.8-9.6-22.4-22.4-22.4l-48 0c-12.8 0-22.4 9.6-22.4 22.4l0 48C560 934.4 569.6 944 582.4 944zM944 704l-99.2 0c-16 0-28.8 12.8-28.8 28.8l0 44.8-48 0c-19.2 0-32 12.8-32 32l0 99.2c0 16 12.8 28.8 28.8 28.8l179.2 3.2c16 0 28.8-12.8 28.8-28.8l0-179.2C972.8 716.8 960 704 944 704z" />
                                </svg>
                                <div class="text">
                                    Show QR code
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info deposit">
                        <div class="title">
                            Send only BCH to this deposit address.
                        </div>
                        <div class="text">
                           Sending coin or token other than BCH to this address may result in the loss of your deposit.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-background"></div>
</modal>
