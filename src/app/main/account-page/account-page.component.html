<div class="content">
    <div class="wrapper">
        <div class="general-chart">
            <div class="title-wrapper">
                <div class="title">
                    Total Balance
                </div>
                <div class="description">
                    $ 1.618
                </div>
                <div class="description red">
                    -8.2%
                </div>
            </div>
            <div class="chart">
                <canvas baseChart
                        [options]="doughnutChartOptions"
                        [data]="doughnutChartData"
                        [labels]="doughnutChartLabels"
                        [chartType]="doughnutChartType"></canvas>
            </div>
        </div>
        <div class="table-chart">
            <div style="width: 100%">
                <canvas baseChart
                        [options]="barChartOptions"
                        [colors]="barChartColors"
                        [data]="ChartData"
                        [labels]="ChartLabels"
                        [chartType]="ChartType"></canvas>
            </div>
        </div>
        <div class="controls-table">
            <div class="search">
                <mat-form-field>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true"
                         style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;">
                        <path d="M9.572 0C4.28 0 0 4.182 0 9.352s4.28 9.353 9.572 9.353a9.67 9.67 0 0 0 5.12-1.461L21.607 24 24 21.662l-6.827-6.653c1.227-1.573 1.97-3.523 1.97-5.657 0-5.17-4.28-9.352-9.571-9.352zm0 2.2c4.053 0 7.32 3.192 7.32 7.152 0 3.961-3.267 7.152-7.32 7.152-4.054 0-7.32-3.191-7.32-7.152 0-3.96 3.266-7.151 7.32-7.151z"></path>
                    </svg>
                    <input placeholder="Search" type="text" matInput [(ngModel)]="searchValue" (ngModelChange)="search()">
                </mat-form-field>
            </div>
            <div class="hide-low-balance">
                <mat-checkbox (change)="onCheckboxChagen($event)">
                    <span style="word-break: break-all;" class="">Hide low balance assets</span>
                </mat-checkbox>
            </div>
        </div>
        <div class="table-wrapper">
            <div class="table">
                <div class="row title">
                    <div class="cell">

                    </div>
                    <div class="cell">
                        Balance
                    </div>
                    <div class="cell">
                        %
                    </div>
                    <div class="cell">
                        Value(XDR)
                    </div>
                    <div class="cell">
                        Change 30D
                    </div>
                    <div class="cell">

                    </div>
                </div>

                <div class="row" *ngFor="let item of arraySearchValue" [ngClass]="{'hide': this.hideLowBalanceFlag && item.balance === 0}" (click)="drawingChart('ALL', 30,'days')">
                    <div class="cell">
                        <img class="icon" [ngClass]="item.code" [src]="item.icon" alt="">
                        <div class="name-currency">
                            {{item.code}}
                        </div>
                    </div>
                    <div class="cell">
                        {{item.balance === 0 ? '-' : item.balance}}
                    </div>
                    <div class="cell">
                        {{item.balance == 0 ? '-' : item.percent}}
                    </div>
                    <div class="cell">
                        {{item.balance == 0 ? '-' : item.value}}
                    </div>
                    <div class="cell">
                        {{item.balance === 0 ? '-' : item.change + '%'}}
                    </div>
                    <div class="cell">
                        <div class="buttons">
                            <div class="button-convert" (click)="openModal($event, 'deposit');">
                                <div class="text">
                                    Deposit
                                </div>
                            </div>
                            <div class="button-convert">
                                <div class="text">
                                    Withdraw
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row title">
                    <div class="cell">
                        Total
                    </div>
                    <div class="cell">

                    </div>
                    <div class="cell">

                    </div>
                    <div class="cell">
                        {{sumValue}}
                    </div>
                    <div class="cell">
                        {{sumChange}}%
                    </div>
                    <div class="cell">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<modal id="deposit">
    <div class="modal">
        <div class="modal-body">
            <div class="head-popup">
                Deposit
                <div class="close" (click)="modalService.close('deposit');">
                    <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true" style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;"><path fill-rule="evenodd" d="M.458.404c.582-.565 1.54-.524 2.123.04l9.406 9.485L21.435.444c.583-.564 1.54-.605 2.123-.04.582.565.582 1.453.041 2.058l-9.531 9.526 9.531 9.565c.541.565.541 1.494-.041 2.059-.582.524-1.54.524-2.123-.04l-9.448-9.486-9.406 9.485c-.583.565-1.54.565-2.123.04-.582-.564-.624-1.493-.041-2.058l9.531-9.565L.417 2.462C-.166 1.857-.124.97.458.404z"></path></svg>
                </div>
            </div>
            <div class="content-popup">
                <form [formGroup]="depositForm" class="deposit-modal" (ngSubmit)="sendDeposit()">
                    <div class="select-currency">
                        <div class="title">
                            Select Network:
                        </div>
                        <div class="networks">
                            <div class="item"  *ngFor="let item of testDataDepositModal; let i = index" [ngClass]="{'active': i === activeElem}" (click)="changeNetwork(i, item.min, item.balance)">
                                <div class="text">
                                    {{item.name}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <mat-form-field class="full-width">
                        <input matInput placeholder="Recipient's {{testDataDepositModal[activeElem].name}} Address" formControlName="recipient"  value="">
                    </mat-form-field>
                    <div class="amount">
                        <div class="balance">
                            <div class="text">
                                Available Balance
                            </div>
                            <div class="text currency">
                                {{testDataDepositModal[activeElem].balance}} {{testDataDepositModal[activeElem].name}}
                            </div>
                        </div>
                        <div class="min">
                            Minimum Withdrawal: {{testDataDepositModal[activeElem].min}} {{testDataDepositModal[activeElem].name}}
                        </div>
                        <mat-form-field class="full-width">
                            <input matInput placeholder="Amount" maxlength="18" formControlName="amount"  value="">
                        </mat-form-field>
                    </div>
                    <div class="info">
                        <div class="title">
                            Transaction Fee:
                        </div>
                        <div class="value">
                            {{testDataDepositModal[activeElem].fee}} {{testDataDepositModal[activeElem].name}}
                        </div>
                    </div>
                    <div class="info">
                        <div class="title">
                            You Will Get:
                        </div>
                        <div class="value">
                            0.0000000 {{testDataDepositModal[activeElem].name}}
                        </div>
                    </div>
                    <button
                            [disabled]="!depositForm.valid"
                            mat-raised-button
                            class="button-next">
                        Submit
                    </button>
                </form>
            </div>

        </div>
    </div>
    <div class="modal-background"></div>
</modal>

<modal id="withdraw">
    <div class="modal">
        <div class="modal-body">
            <div class="head-popup">
                Your Stellar account is linked!
                <div class="close" (click)="modalService.close('linked');">
                    <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-radium="true" style="pointer-events: none; fill: currentcolor; width: 1em; height: 1em;"><path fill-rule="evenodd" d="M.458.404c.582-.565 1.54-.524 2.123.04l9.406 9.485L21.435.444c.583-.564 1.54-.605 2.123-.04.582.565.582 1.453.041 2.058l-9.531 9.526 9.531 9.565c.541.565.541 1.494-.041 2.059-.582.524-1.54.524-2.123-.04l-9.448-9.486-9.406 9.485c-.583.565-1.54.565-2.123.04-.582-.564-.624-1.493-.041-2.058l9.531-9.565L.417 2.462C-.166 1.857-.124.97.458.404z"></path></svg>
                </div>
            </div>
            <div class="content-popup">
            </div>

        </div>
    </div>
    <div class="modal-background"></div>
</modal>
